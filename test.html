<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap Modal</title>
    <link rel="stylesheet" href="static/css/bootstrap.css">
    <script src="static/js/jquery.js"></script>
    <script src="static/js/bootstrap.js"></script>
    
    
    <script type="text/javascript">
        function cbDlg() {
            this.id = "cbdlg" + Math.ceil(Math.random() * 1000000).toString();
            this.css = "width:450px";
            this.title = "标题";
            this.subs = new Array();
            this.btndel = false;
        }
        cbDlg.prototype.Add = function (sub) {
            this.subs.push(sub);
        }
        cbDlg.prototype.Show = function () {
            var html = '<div class="modal fade" id="' + this.id + '" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="false">'
                + '<div class="modal-dialog" style="' + this.css + '">'
                + '<div class="modal-content">'
                + '    <div class="modal-header">'
                + '        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>'
                + '        <h4 class="modal-title" id="ModalDlgTitle">' + this.title + '</h4>'
                + '   </div>'
                + '    <div id="ModalDlgContent" class="modal-body" style="padding:5px 0px">';
            for (var i in this.sub) html += this.sub[i].toString();
            html += '    </div>'
                + '    <div class="modal-footer">';
            if (this.btndel) html += '        <div style="float:left;"><button type="button" class="btn btn-default" style="color:#aaaaaa">删除</button></div>';
            html += '        <button type="button" class="btn btn-primary">提交</button>'
                + '        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>'
                + '        <button type="button" class="btn">关2闭</button>'
                + '    </div>'
                + '</div><!-- /.modal-content -->'
                + '</div><!-- /.modal -->';
            $("body").append(html);
            var btn = $('#' + this.id).find("button");
            btn.on("click", '', { id: this.id, close: this.closedlg, submit: this.submit }, function (ev) {
                if (ev.target.innerText == "提交") submit();
                else if (ev.target.innerText == "提交") submit();
                $('#' + ev.data.id).remove();
            });
            $('#' + this.id).modal('show');
        } 

        function showDlg() {
            var dlg = new cbDlg();
            dlg.Show();
        }
    </script>

</head>
<body>
    <div onclick="showDlg()">
        asldflsdlf;lasdf
    </div>
</body>
