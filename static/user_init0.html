<!DOCTYPE html>
<html>
<head>
    <!--user2与user3的区别：将inplace编辑模式改成弹出6编辑窗口式-->
    <meta charset="utf-8">
    <title>啄木鸟风电维保系统</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="css/bootstrap.css"/>
    <script type="text/javascript" src="js/doTe.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="laydate/laydate.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/db.js"></script>
    <link rel="stylesheet" href="css/xpecker.css" />
    <script src="js/xpecker.js"></script>
    <script src="js/Cube.js"></script>

    <style>
        .pane_image>div {
            margin: 5px 0px 5px 5px;
            display: inline-flex;
            flex-direction: row;
            align-items: flex-start;
            border: 0px;
        }
        .pane_image>div>label {
            width: 40px;
            text-align: right;
            margin: 5px;
        }
        .pane_image>div>div:first-of-type {
            border-radius: 4px;
            border: 1px solid #dddddd;
            display: inline-block;
            padding: 5px 10px;
            margin: 0px 5px;
            width: 137px;
        }

        /*图片框无图时的背景十字架图片*/
        .ImgBlank {
            position: relative;
            background: url(img/add.png);
            background-size: cover;
        }

        /*dropdown*/
        .drop {
        }
        .dropwnd {
            display: none;
            position: absolute;
            z-index: 9999;
            left: 74px;
            top: 100%;
            width: 100%;
            border: 2px solid #95b7ff;
            border-radius: 4px;
            background: #ffffff;
            box-sizing: content-box;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        }

        /*为了解决BootStrap中css和layDate的css样式冲突*/
        .laydate_box, .laydate_box * {box-sizing: content-box;}
        .laydate_box th {text-align: center;}
    </style>

   
</head>
<body>
    <header>总步骤</header>
    <div id="main" class="x2Form"></div>
    <footer>下一步 跳过</footer>
 
    <script id="tpl_user_form" type="text/template">
        <div style="height:240px;width:280px;float: left; display:block;">
            <div class="pane_image" style="width: 100%; height: 80px; margin: 0px; padding:0px; display:block;border:0px;">
                <div style="float: left; margin:0px;">
                    <label class="ImgBlank" style="display:inline-block;width:78px;margin:0px;" for="SelectFace"> <img id="viewface" style="width: 78px; height: 78px;;z-index: 999;" src="{%=it.face%}"/> </label>
                    <input type="file" id="SelectFace" accept="image/*" style="display:none;" onchange="imgPreview(this,'viewface')">
                </div>
                <div style="margin-top:0px;"><label>帐号</label><div style="display:inline-block;">{%=it.account%}</div></div>
                <div style="position:relative;"><label>密码</label><div class="drop" style="border: 1px solid #95b7ff;"><label style="color:royalblue;margin:0px;">点击修改</label></div>
                <div class="dropwnd" style="left:-6px;width:190px;height:100px;padding:5px;display:none;">
                    <label style="margin-right:5px;">旧密码</label><input style="width:140px;height:20px;">
                    <label style="margin-right:5px;">新密码</label><input style="width:140px;height:20px;">
                    <label style="margin-right:5px;">新密码</label><input style="width:140px;height:20px;">
                    <div style="float:right"><button onclick="HideWnd(this)">确定</button> <button onclick="HideWnd(this)">取消</button></div>
                </div></div>
            </div>
            <label class="ImgBlank" style="display:inline-block;" for="selectidimg"> <img id="viewidimg" style="width: 280px; height: 160px;z-index: 999;" src="{%=it.idimg%}" /> </label>
            <input type="file" id="selectidimg" accept="image/*" style="display:none;" onchange="imgPreview(this,'viewidimg')">
        </div>
    </script>

    <script type="text/javascript">
        init();
        function init() {
            Reqdata("/curuserinf", "", function (res) {
                g_user = res.data;
                var tpl_user_new = doT.template(document.getElementById('tpl_user_form').innerHTML);
                $("#main").html(tpl_user_new(g_user)+RenderFormIn(g_user, res.fields, f2f));
            });
        }

        function f2f(user, field) {
            var name = field.name ? field.name :field;
            return user[name];

            if (name == "sex") return GetSub(db_sex, "id", user.sex).name;
            else if (name == "job") return GetSub(db_job, "id", user.job).name;
            else if (name == "depart_id") return GetSub(g_departs.data, "id", user.depart_id).name;
            else return user[name];
        }

    </script>
</body>
</html>

<!--
input：普通录入
pwd：密码
image：图片
select：所在单位选择，职位选择，领域选择，籍贯（省地市）选择，
input
choice：性别选择，
date：日历，
image-->